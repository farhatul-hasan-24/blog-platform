# Blog Platform - Architecture & Flow Diagrams

## System Architecture

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      CLIENT SIDE                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚              React Application                     â”‚  â”‚
â”‚  â”‚                                                    â”‚  â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”‚  â”‚
â”‚  â”‚  â”‚  Pages   â”‚  â”‚Componentsâ”‚  â”‚ Context  â”‚       â”‚  â”‚
â”‚  â”‚  â”‚          â”‚  â”‚          â”‚  â”‚          â”‚       â”‚  â”‚
â”‚  â”‚  â”‚ - Home   â”‚  â”‚ - Navbar â”‚  â”‚ - Auth   â”‚       â”‚  â”‚
â”‚  â”‚  â”‚ - Login  â”‚  â”‚ - PostCardâ”‚ â”‚          â”‚       â”‚  â”‚
â”‚  â”‚  â”‚ - Dashboardâ”‚ â”‚ - Form  â”‚  â”‚          â”‚       â”‚  â”‚
â”‚  â”‚  â”‚ - Admin  â”‚  â”‚          â”‚  â”‚          â”‚       â”‚  â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â”‚  â”‚
â”‚  â”‚                                                    â”‚  â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚  â”‚
â”‚  â”‚  â”‚       React Router (Protected Routes)    â”‚    â”‚  â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚  â”‚
â”‚  â”‚                                                    â”‚  â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚  â”‚
â”‚  â”‚  â”‚    Axios HTTP Client (API Calls)         â”‚    â”‚  â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                          â”‚
                          â”‚ HTTP Requests (JSON)
                          â”‚ + JWT Token
                          â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      SERVER SIDE                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚            Express.js Application                  â”‚  â”‚
â”‚  â”‚                                                    â”‚  â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚  â”‚
â”‚  â”‚  â”‚           Middleware Layer               â”‚    â”‚  â”‚
â”‚  â”‚  â”‚  - CORS                                  â”‚    â”‚  â”‚
â”‚  â”‚  â”‚  - Body Parser                           â”‚    â”‚  â”‚
â”‚  â”‚  â”‚  - Auth (JWT Verification)               â”‚    â”‚  â”‚
â”‚  â”‚  â”‚  - Role Validation                       â”‚    â”‚  â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚  â”‚
â”‚  â”‚                                                    â”‚  â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”‚  â”‚
â”‚  â”‚  â”‚  Routes  â”‚  â”‚Controllersâ”‚ â”‚  Models  â”‚       â”‚  â”‚
â”‚  â”‚  â”‚          â”‚  â”‚          â”‚  â”‚          â”‚       â”‚  â”‚
â”‚  â”‚  â”‚ - Auth   â”‚  â”‚ - Auth   â”‚  â”‚ - User   â”‚       â”‚  â”‚
â”‚  â”‚  â”‚ - Posts  â”‚  â”‚ - Posts  â”‚  â”‚ - Post   â”‚       â”‚  â”‚
â”‚  â”‚  â”‚ - Users  â”‚  â”‚ - Users  â”‚  â”‚          â”‚       â”‚  â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                          â”‚
                          â”‚ MongoDB Queries
                          â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    DATABASE LAYER                        â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚              MongoDB Database                      â”‚  â”‚
â”‚  â”‚                                                    â”‚  â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”‚  â”‚
â”‚  â”‚  â”‚    Users     â”‚        â”‚    Posts     â”‚        â”‚  â”‚
â”‚  â”‚  â”‚  Collection  â”‚        â”‚  Collection  â”‚        â”‚  â”‚
â”‚  â”‚  â”‚              â”‚        â”‚              â”‚        â”‚  â”‚
â”‚  â”‚  â”‚ - username   â”‚        â”‚ - title      â”‚        â”‚  â”‚
â”‚  â”‚  â”‚ - email      â”‚        â”‚ - content    â”‚        â”‚  â”‚
â”‚  â”‚  â”‚ - password   â”‚        â”‚ - author â”€â”€â”€â–¶â”‚        â”‚  â”‚
â”‚  â”‚  â”‚ - role       â”‚        â”‚ - createdAt  â”‚        â”‚  â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## Authentication Flow

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Browser â”‚                                    â”‚ Server  â”‚
â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜                                    â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜
     â”‚                                              â”‚
     â”‚  POST /api/auth/register                    â”‚
     â”‚  { username, email, password }              â”‚
     â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶â”‚
     â”‚                                              â”‚
     â”‚                                         Hash password
     â”‚                                         Create user
     â”‚                                         Generate JWT
     â”‚                                              â”‚
     â”‚  { user, token }                            â”‚
     â”‚â—€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
     â”‚                                              â”‚
  Store token                                       â”‚
  in localStorage                                   â”‚
     â”‚                                              â”‚
     â”‚  GET /api/posts                             â”‚
     â”‚  Authorization: Bearer <token>              â”‚
     â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶â”‚
     â”‚                                              â”‚
     â”‚                                        Verify JWT
     â”‚                                        Extract user
     â”‚                                        Fetch posts
     â”‚                                              â”‚
     â”‚  { posts }                                  â”‚
     â”‚â—€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
     â”‚                                              â”‚
```

## Authorization Flow

```
User Action                 Frontend Check        Backend Check
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

View Public Posts           âœ… None               âœ… None
     â”‚                      (Anyone can view)    (Public endpoint)
     â”‚
     â–¼

Create Post                 ğŸ” isAuthenticated()  ğŸ” protect middleware
     â”‚                      â”œâ”€ Yes â†’ Allow        â”œâ”€ Valid token?
     â”‚                      â””â”€ No â†’ Redirect      â””â”€ Yes â†’ Continue
     â”‚
     â–¼

Delete Own Post             ğŸ” isAuthenticated()  ğŸ” protect + ownership
     â”‚                      â”œâ”€ Yes â†’ Show button  â”œâ”€ Valid token?
     â”‚                      â””â”€ No â†’ Hide          â”œâ”€ Is author?
     â”‚                                            â””â”€ Yes â†’ Allow
     â”‚
     â–¼

Delete Any Post (Admin)     ğŸ” isAdmin()          ğŸ” protect + admin
     â”‚                      â”œâ”€ Yes â†’ Show button  â”œâ”€ Valid token?
     â”‚                      â””â”€ No â†’ Hide          â”œâ”€ Role is admin?
     â”‚                                            â””â”€ Yes â†’ Allow
     â”‚
     â–¼

Access Admin Dashboard      ğŸ” AdminRoute         ğŸ” protect + admin
                            â”œâ”€ isAdmin()          â”œâ”€ Valid token?
                            â”œâ”€ Yes â†’ Allow        â”œâ”€ Role is admin?
                            â””â”€ No â†’ Redirect      â””â”€ Yes â†’ Allow
```

## Data Flow: Creating a Post

```
1. User Dashboard Page
   â””â”€â–¶ CreatePostForm Component
       â””â”€â–¶ User fills form
           â””â”€â–¶ Submits

2. Form Submit Handler
   â””â”€â–¶ postsAPI.createPost(formData)
       â””â”€â–¶ Axios POST request
           â””â”€â–¶ Includes JWT token in header

3. Backend Route
   â””â”€â–¶ POST /api/posts
       â””â”€â–¶ protect middleware
           â”œâ”€â–¶ Verify JWT token
           â”œâ”€â–¶ Extract user from token
           â””â”€â–¶ Attach to req.user

4. Post Controller
   â””â”€â–¶ createPost()
       â”œâ”€â–¶ Get title, content from body
       â”œâ”€â–¶ Get author from req.user
       â””â”€â–¶ Create post in database

5. Database
   â””â”€â–¶ MongoDB saves post
       â””â”€â–¶ Returns saved document

6. Response Path
   â””â”€â–¶ Controller sends response
       â””â”€â–¶ Express middleware
           â””â”€â–¶ HTTP response

7. Frontend Receives
   â””â”€â–¶ Axios promise resolves
       â””â”€â–¶ Update local state
           â””â”€â–¶ Re-render UI
               â””â”€â–¶ Show new post
```

## Role-Based Access Matrix

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚      Feature         â”‚ Public  â”‚  User   â”‚  Admin  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ View All Posts       â”‚   âœ…    â”‚   âœ…    â”‚   âœ…    â”‚
â”‚ Register             â”‚   âœ…    â”‚   âŒ    â”‚   âŒ    â”‚
â”‚ Login                â”‚   âœ…    â”‚   âœ…    â”‚   âœ…    â”‚
â”‚ Create Post          â”‚   âŒ    â”‚   âœ…    â”‚   âœ…    â”‚
â”‚ Delete Own Post      â”‚   âŒ    â”‚   âœ…    â”‚   âœ…    â”‚
â”‚ Delete Any Post      â”‚   âŒ    â”‚   âŒ    â”‚   âœ…    â”‚
â”‚ View Own Dashboard   â”‚   âŒ    â”‚   âœ…    â”‚   âœ…    â”‚
â”‚ View Admin Dashboard â”‚   âŒ    â”‚   âŒ    â”‚   âœ…    â”‚
â”‚ View Platform Stats  â”‚   âŒ    â”‚   âŒ    â”‚   âœ…    â”‚
â”‚ View All Users       â”‚   âŒ    â”‚   âŒ    â”‚   âœ…    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## Component Hierarchy

```
App
â”œâ”€â”€ Router
â”‚   â””â”€â”€ AuthProvider
â”‚       â”œâ”€â”€ Navbar
â”‚       â”‚   â”œâ”€â”€ Logo
â”‚       â”‚   â”œâ”€â”€ Navigation Links
â”‚       â”‚   â””â”€â”€ User Menu
â”‚       â”‚
â”‚       â””â”€â”€ Routes
â”‚           â”œâ”€â”€ Home (Public)
â”‚           â”‚   â””â”€â”€ PostCard (multiple)
â”‚           â”‚
â”‚           â”œâ”€â”€ Login (Public)
â”‚           â”‚   â””â”€â”€ Login Form
â”‚           â”‚
â”‚           â”œâ”€â”€ Register (Public)
â”‚           â”‚   â””â”€â”€ Register Form
â”‚           â”‚
â”‚           â”œâ”€â”€ Dashboard (Protected)
â”‚           â”‚   â”œâ”€â”€ CreatePostForm
â”‚           â”‚   â””â”€â”€ PostCard (user's posts)
â”‚           â”‚
â”‚           â””â”€â”€ AdminDashboard (Admin)
â”‚               â”œâ”€â”€ Stats Cards
â”‚               â””â”€â”€ PostCard (all posts)
```

## State Management

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              AuthContext (Global State)           â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  State:                                           â”‚
â”‚    - user: { _id, username, email, role }        â”‚
â”‚    - token: "jwt_token_string"                   â”‚
â”‚    - loading: boolean                            â”‚
â”‚                                                   â”‚
â”‚  Functions:                                       â”‚
â”‚    - login(credentials)                          â”‚
â”‚    - register(userData)                          â”‚
â”‚    - logout()                                    â”‚
â”‚    - isAuthenticated()                           â”‚
â”‚    - isAdmin()                                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                        â”‚
                        â”‚ Provides to all components
                        â–¼
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚     Any Component in Tree      â”‚
        â”‚                                â”‚
        â”‚  const { user, isAdmin } =    â”‚
        â”‚        useAuth()               â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## API Request Lifecycle

```
Component
   â”‚
   â”‚ postsAPI.getAllPosts()
   â–¼
Axios Instance (api.js)
   â”‚
   â”‚ 1. Add base URL
   â”‚ 2. Add Content-Type header
   â–¼
Request Interceptor
   â”‚
   â”‚ 3. Get token from localStorage
   â”‚ 4. Add Authorization header
   â–¼
HTTP Request to Server
   â”‚
   â”‚ 5. Network transmission
   â–¼
Express Server
   â”‚
   â”‚ 6. CORS middleware
   â”‚ 7. Body parser middleware
   â”‚ 8. Auth middleware (if protected)
   â–¼
Route Handler
   â”‚
   â”‚ 9. Controller function
   â”‚ 10. Database query
   â–¼
Response
   â”‚
   â”‚ 11. JSON response
   â–¼
Response Interceptor
   â”‚
   â”‚ 12. Check for errors
   â”‚ 13. Handle 401 (logout)
   â–¼
Promise Resolution
   â”‚
   â”‚ 14. Return data to component
   â–¼
Component Updates
   â”‚
   â”‚ 15. setState with new data
   â”‚ 16. Re-render UI
   â–¼
User Sees Result
```

This visual representation helps understand how all parts work together!
